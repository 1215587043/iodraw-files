```mermaid
from io_draw import IODraw

# 创建流程图
flowchart = IODraw()

# 添加节点和连接
flowchart.add_node("开始", shape="ellipse", x=100, y=50)
flowchart.add_node("获取类型列表", shape="rectangle", x=100, y=100)
flowchart.add_node("发送HTTP请求", shape="rectangle", x=100, y=150)
flowchart.add_node("循环处理每种类型", shape="rectangle", x=100, y=200)
flowchart.add_node("解析正确", shape="diamond", x=100, y=250)
flowchart.add_node("写入数据", shape="rectangle", x=100, y=300)
flowchart.add_node("结束", shape="ellipse", x=100, y=350)
flowchart.add_node("解析失败", shape="rectangle", x=250, y=250)

# 添加连接线
flowchart.add_connection("开始", "获取类型列表")
flowchart.add_connection("获取类型列表", "发送HTTP请求")
flowchart.add_connection("发送HTTP请求", "循环处理每种类型")
flowchart.add_connection("循环处理每种类型", "解析正确")
flowchart.add_connection("解析正确", "写入数据", label="是")
flowchart.add_connection("解析正确", "解析失败", label="否")
flowchart.add_connection("写入数据", "循环处理每种类型")  # 循环回到处理每种类型
flowchart.add_connection("解析失败", "循环处理每种类型")  # 循环回到处理每种类型
flowchart.add_connection("写入数据", "结束", label="完成所有类型")  # 当所有类型处理完成时

# 渲染流程图
flowchart.render("data_collection_flowchart.png")
```